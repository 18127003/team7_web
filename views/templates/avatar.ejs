<div id="avatar_modal" class="modal modal-fixed-footer white hide-on-med-and-down" style="overflow-y: hidden;border-radius: 15px;">
    <form enctype="multipart/form-data" action="/users/avatarUpdate" method="POST">
        <div class="modal-content" style="overflow: hidden;">
            <div class="row center">
                <img id="avatar_preview" src="https://via.placeholder.com/300x300.png?text=Avatar+300x300" 
                style="max-width: 300px;height: 300px; border: 1px solid black;" class="circle"/>
            </div>
            
            <div class="row center">
                
                    <div class="file-field input-field upload-field" style="left:46%">
                        <a class="btn pink lighten-4">
                            <img src="https://img.icons8.com/officel/40/000000/add-image.png" />
                            <input type="file" name="avatar" onchange="readURL(this)">
                        </a>
                    </div>
            
            </div>
            
        </div>
        <div class="modal-footer pink lighten-5">
            <button class="modal-close waves-effect waves-pink btn" type="submit"
             style="margin-bottom: 30px;position: absolute;left:45%">Change</button>
        </div>
    </form> 
</div>
<script>
    function readURL(input) {
        console.log(input.files[0])
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById("avatar_preview").setAttribute("src",e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>